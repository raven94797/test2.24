<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘ä»¬çš„æ•…äº‹ Â· ä»–çš„è§†è§’</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        
    <style>
        /* çŠ¶æ€æŒ‡ç¤ºå™¨ */
        .status-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .status-indicator.show {
            opacity: 1;
        }

        .status-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        :root {
            --primary-color: #4a6fa5; /* ç”·ç”Ÿç³»è“è‰² */
            --secondary-color: #6b8cbc;
            --accent-color: #ff9a8b; /* æ¸©æš–ç‚¹ç¼€è‰² */
            --light-bg: #f8fafc;
            --dark-text: #2d3748;
            --light-text: #718096;
            --cat-color: #FFB6C1; /* å°çŒ«ç²‰è‰² */
            --fox-color: #FFA500; /* ç‹ç‹¸æ©™è‰² */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft YaHei", sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            color: var(--dark-text);
            line-height: 1.8;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        /* é¡µçœ‰æ ·å¼ */
        .header {
            text-align: center;
            padding: 40px 20px 30px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: 0 0 20px 20px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(74, 111, 165, 0.2);
        }

        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            font-weight: 300;
            letter-spacing: 2px;
        }

        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            font-weight: 300;
        }

        /* æ—¶é—´çº¿å®¹å™¨ */
        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 100%;
            background: var(--secondary-color);
            opacity: 0.3;
        }

        /* æ—¶é—´çº¿é¡¹ç›® */
        .timeline-item {
            display: flex;
            margin-bottom: 50px;
            position: relative;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s ease forwards;
        }

        .timeline-item:nth-child(odd) {
            flex-direction: row-reverse;
        }

        .timeline-dot {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 20px;
            background: var(--primary-color);
            border-radius: 50%;
            border: 4px solid white;
            box-shadow: 0 0 0 4px var(--accent-color);
            z-index: 2;
        }

        .timeline-content {
            width: calc(50% - 40px);
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            position: relative;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .timeline-content:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }

        .timeline-content::before {
            content: '';
            position: absolute;
            top: 20px;
            width: 0;
            height: 0;
            border-style: solid;
        }

        .timeline-item:nth-child(odd) .timeline-content::before {
            right: -10px;
            border-width: 10px 0 10px 10px;
            border-color: transparent transparent transparent white;
        }

        .timeline-item:nth-child(even) .timeline-content::before {
            left: -10px;
            border-width: 10px 10px 10px 0;
            border-color: transparent white transparent transparent;
        }

        .timeline-date {
            color: var(--primary-color);
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .timeline-title {
            color: var(--dark-text);
            font-size: 1.4rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .timeline-text {
            color: var(--light-text);
            line-height: 1.8;
            text-align: justify;
        }

        /* å¯è¯„è®ºæ–‡æœ¬æ ·å¼ */
        .commentable-text {
            cursor: pointer;
            padding: 2px 4px;
            border-radius: 3px;
            transition: all 0.3s ease;
            position: relative;
            border-bottom: 1px dashed transparent;
        }

        .commentable-text:hover {
            background-color: rgba(255, 154, 139, 0.2);
            box-shadow: 0 0 0 2px rgba(255, 154, 139, 0.3);
            border-bottom-color: var(--accent-color);
        }

        .commentable-text.selected {
            background-color: rgba(255, 154, 139, 0.4);
            box-shadow: 0 0 0 2px var(--accent-color);
        }

        /* è¯„è®ºå¼¹çª—æ ·å¼ */
        .comment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .comment-modal.active {
            display: flex;
        }

        .comment-modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .comment-modal-header {
            margin-bottom: 20px;
            text-align: center;
        }

        .comment-modal-header h3 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .selected-text-preview {
            background-color: #f8f9fa;
            border-left: 4px solid var(--accent-color);
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
            font-style: italic;
        }

        .author-selection {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .author-option {
            flex: 1;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .author-option:hover {
            border-color: var(--accent-color);
            transform: translateY(-3px);
        }

        .author-option.selected {
            border-color: var(--accent-color);
            background-color: rgba(255, 154, 139, 0.1);
        }

        .author-option.cat {
            border-color: var(--cat-color);
        }

        .author-option.cat.selected {
            background-color: rgba(255, 182, 193, 0.2);
        }

        .author-option.fox {
            border-color: var(--fox-color);
        }

        .author-option.fox.selected {
            background-color: rgba(255, 165, 0, 0.2);
        }

        .author-icon {
            font-size: 2rem;
            margin-bottom: 8px;
            display: block;
        }

        .author-name {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .comment-textarea {
            width: 100%;
            min-height: 120px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            resize: vertical;
            margin-bottom: 20px;
            transition: border-color 0.3s ease;
        }

        .comment-textarea:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(255, 154, 139, 0.2);
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
        }

        .modal-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-btn.cancel {
            background-color: #f1f3f4;
            color: #5f6368;
        }

        .modal-btn.cancel:hover {
            background-color: #dadce0;
        }

        .modal-btn.submit {
            background-color: var(--accent-color);
            color: white;
        }

        .modal-btn.submit:hover {
            background-color: #ff7a6b;
            transform: translateY(-2px);
        }

        .modal-btn.submit:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
            transform: none;
        }

        /* ä¾§è¾¹è¯„è®ºæ°”æ³¡ */
        .side-comment {
            position: absolute;
            background: white;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
            max-width: 300px;
            z-index: 100;
            animation: commentAppear 0.3s ease-out;
            border: 2px solid;
        }

        @keyframes commentAppear {
            from {
                opacity: 0;
                transform: scale(0.8) translateY(-20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .side-comment.cat {
            border-color: var(--cat-color);
        }

        .side-comment.fox {
            border-color: var(--fox-color);
        }

        .side-comment::before {
            content: '';
            position: absolute;
            width: 0;
            height: 0;
            border-style: solid;
        }

        .side-comment.left::before {
            right: -12px;
            top: 20px;
            border-width: 12px 0 12px 12px;
        }

        .side-comment.cat.left::before {
            border-color: transparent transparent transparent var(--cat-color);
        }

        .side-comment.fox.left::before {
            border-color: transparent transparent transparent var(--fox-color);
        }

        .side-comment.right::before {
            left: -12px;
            top: 20px;
            border-width: 12px 12px 12px 0;
        }

        .side-comment.cat.right::before {
            border-color: transparent var(--cat-color) transparent transparent;
        }

        .side-comment.fox.right::before {
            border-color: transparent var(--fox-color) transparent transparent;
        }

        .comment-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            position: relative;
            padding-right: 25px;
        }

        .comment-author-icon {
            font-size: 1.2rem;
            margin-right: 8px;
        }

        .comment-author-name {
            font-weight: bold;
            font-size: 0.9rem;
        }

        .comment-content {
            font-size: 0.95rem;
            line-height: 1.5;
            color: var(--dark-text);
        }

        .comment-time {
            font-size: 0.75rem;
            color: var(--light-text);
            margin-top: 8px;
            text-align: right;
        }

        /* åˆ é™¤æŒ‰é’®æ ·å¼ */
        .delete-comment-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.1);
            border: none;
            color: #666;
            font-size: 16px;
            line-height: 1;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            opacity: 0;
        }

        .side-comment:hover .delete-comment-btn {
            opacity: 1;
        }

        .delete-comment-btn:hover {
            background: #ff6b6b;
            color: white;
            transform: scale(1.1);
        }

        /* èŠå¤©è®°å½•æ ·å¼ */
        .chat-bubble {
            max-width: 80%;
            padding: 12px 18px;
            border-radius: 18px;
            margin: 10px 0;
            position: relative;
            font-size: 0.95rem;
        }

        .chat-left {
            background: #e6f7ff;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }

        .chat-right {
            background: var(--primary-color);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
            margin-left: auto;
        }

        .chat-time {
            font-size: 0.7rem;
            opacity: 0.7;
            margin-top: 5px;
            text-align: right;
        }

        /* ç…§ç‰‡å¢™ */
        .photo-wall {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }

        .photo-item {
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            height: 200px;
        }

        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .photo-item:hover img {
            transform: scale(1.05);
        }

        .photo-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px;
            font-size: 0.9rem;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .photo-item:hover .photo-caption {
            transform: translateY(0);
        }

        /* ç‰¹æ®Šæ®µè½æ ·å¼ */
        .highlight-box {
            background: linear-gradient(135deg, #f0f7ff, #e6f0ff);
            border-left: 4px solid var(--accent-color);
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .memory-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin: 20px 0;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }

        .memory-icon {
            width: 40px;
            height: 40px;
            background: var(--accent-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-shrink: 0;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .timeline::before {
                left: 20px;
            }
            
            .timeline-item {
                flex-direction: row !important;
                margin-left: 40px;
            }
            
            .timeline-dot {
                left: 20px;
            }
            
            .timeline-content {
                width: 100%;
            }
            
            .timeline-content::before {
                display: none;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .photo-wall {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .side-comment {
                max-width: 250px;
                left: auto !important;
                right: 20px !important;
            }
            
            .side-comment::before {
                display: none;
            }
        }

        /* åŠ¨ç”» */
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* é¡µè„š */
        .footer {
            text-align: center;
            padding: 40px 20px;
            margin-top: 50px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: 20px 20px 0 0;
        }

        .footer-text {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto 20px;
        }

        .heart-beat {
            color: var(--accent-color);
            font-size: 2rem;
            animation: heartbeat 1.2s infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        /* æ–°å¢ï¼šç¼–è¾‘å™¨CSSæ ·å¼ */
        .timeline-editor {
            position: fixed;
            bottom: 40px;
            right: 40px;
            z-index: 9999;
        }

        .editor-toggle {
            background: var(--accent-color);
            color: white;
            padding: 15px 25px;
            border-radius: 30px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 20px rgba(255, 154, 139, 0.5);
            transition: all 0.3s ease;
            font-size: 1rem;
            font-weight: 600;
            border: none;
            outline: none;
        }

        .editor-toggle:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 154, 139, 0.7);
            background: #ff7a6b;
        }

        .editor-panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            width: 400px;
            margin-top: 15px;
            display: none;
            animation: slideUp 0.3s ease;
            border: 2px solid rgba(255, 154, 139, 0.2);
            max-height: 60vh;
            overflow: auto;
            -webkit-overflow-scrolling: touch;
        }

        .editor-panel.active {
            display: block;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .editor-form .form-group {
            margin-bottom: 20px;
        }

        .editor-form label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark-text);
        }

        .editor-form input,
        .editor-form textarea,
        .editor-form select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .editor-form input:focus,
        .editor-form textarea:focus,
        .editor-form select:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .editor-buttons {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 25px;
        }

        .btn-primary {
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background: #ff7a6b;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #f1f3f4;
            color: #5f6368;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: #dadce0;
        }

        /* åˆ é™¤æŒ‰é’®æ ·å¼ */
        .btn-delete {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-right: auto;
        }

        .btn-delete:hover {
            background: #ff5252;
            transform: translateY(-2px);
        }

        /* ç¼–è¾‘æŒ‰é’®æ ·å¼ */
        .edit-item-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: rgba(255, 154, 139, 0.2);
            border: 1px solid var(--accent-color);
            color: var(--accent-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .timeline-content:hover .edit-item-btn {
            opacity: 1;
        }

        .edit-item-btn:hover {
            background: var(--accent-color);
            color: white;
            transform: scale(1.1);
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .editor-panel {
                width: calc(100vw - 40px);
                right: 20px;
                left: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- é¡µçœ‰ -->
        <header class="header">
            <h1>æˆ‘ä»¬çš„æ•…äº‹</h1>
            <div class="subtitle">è®°å½•æ¯ä¸€åˆ»å¿ƒåŠ¨</div>
        </header>
                 <!-- çŠ¶æ€æŒ‡ç¤ºå™¨ -->
        <div class="status-indicator" id="statusIndicator"></div>
        <!-- æ—¶é—´çº¿å¼€å§‹ -->
        <div class="timeline">
            <!-- 2021å¹´2æœˆ - åˆè¯† -->
            <div class="timeline-item" style="animation-delay: 0.1s" data-item-id="item-1">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <div class="timeline-date">
                        <i class="fas fa-calendar-alt"></i>
                        2025å¹´2æœˆ16æ—¥
                    </div>
                    <h3 class="timeline-title">ä½ åŠ ä¸Šæˆ‘çš„å¾®ä¿¡</h3>
                    <div class="timeline-text">
                        <p>é‚£è¿˜æ˜¯ä¸Šä¸€ä¸ªå¯’å‡ã€‚ä½ è¯´ä½ æ˜¯ç¡¬ä»¶ç»„å’Œå»ºæ¨¡ç»„çš„æˆå‘˜ï¼Œå‘æˆ‘äº†è§£å®éªŒè®¾è®¡çš„éƒ¨åˆ†ã€‚ä½†å…¶å®æˆ‘æ—©å°±æ³¨æ„åˆ°ä½ äº†â€”â€”åœ¨å¤§ä¸€ä¸Šçš„è‹±è¯­è¯¾ï¼Œæˆ‘åœ¨ä¸€ä¼—åŒå­¦çš„å¡‘æ–™è‹±è¯­ä¸­çŒ›åœ°å¬åˆ°ä½ çš„å£°éŸ³ï¼Œ<span class="commentable-text" data-text-id="text-1-1">æ ‡å‡†è€Œä¼˜é›…ï¼Œä¸€ä¸‹å°±æŠ“ä½äº†æˆ‘çš„æ³¨æ„</span>ã€‚</p>
                        
                        <div class="chat-bubble chat-left">
                            ä¸‹åˆå¥½ï¼Œæƒ³é—®é—®ä½ ä»¬è¿™ä¸ªé¡¹ç›®ä¸­å·¥ç¨‹èŒå‡çµ®å’Œé‡‘å±ç¦»å­å¤„ç†å®Œçš„å…ˆåæ˜¯æ€æ ·çš„å‘¢ï¼Œå› ä¸ºå¦‚æœé‡‘å±ç¦»å­å¤„ç†å®Œäº†å·¥ç¨‹èŒè¿˜æ²¡æœ‰å¼€å§‹å‡èšçš„è¯ï¼Œæ˜¯ä¸æ˜¯å°±æ— æ³•å‡èšäº†ï¼Œè¿˜æœ‰SmtAè›‹ç™½è¢«è®¾è®¡æˆå®šä½åœ¨å¤–è†œäº†ï¼Œè¿™ä¸ªè›‹ç™½å¸é™„é‡‘å±ç¦»å­ï¼Œé‚£CueRï¼ŒNikRï¼ŒChrAè›‹ç™½åœ¨ç»†èƒå†…ï¼Œæ€æ ·ä¸é‡‘å±ç¦»å­ç»“åˆå‘¢ï¼Œç¼–ç è¿™äº›è›‹ç™½çš„åŸºå› çš„å¯åŠ¨å­æ˜¯å¼ºçš„ç»„æˆå‹å¯åŠ¨å­å—
                        </div>
                        
                        <div class="chat-bubble chat-right">
                            ä¸‹åˆå¥½ï¼Œå¦‚æœé‡‘å±ç¦»å­å¤„ç†å®Œäº†å·¥ç¨‹èŒè¿˜æ²¡æœ‰å¼€å§‹å‡èšçš„è¯ï¼Œæ˜¯ä¸æ˜¯å°±æ— æ³•å‡èšäº†ã€‚å¯¹äºè¿™ä¸ªé—®é¢˜æˆ‘ä¹‹å‰æ²¡æœ‰è€ƒè™‘åˆ°ï¼Œæˆ‘è§‰å¾—æœ‰å¯èƒ½å‡ºç°è¿™æ ·çš„é—®é¢˜ã€‚ä½†åœ¨å¦‚ç æ±Ÿæ°´åŸŸä¸­æ±¡æŸ“ç¨‹åº¦è¾ƒé«˜çš„åŒºåŸŸé‡Œï¼Œå…¶é“œç¦»å­æµ“åº¦å¤§æ¦‚åœ¨10 Î¼Må·¦å³ï¼Œè€Œæ£€æµ‹ç³»ç»Ÿå¯èƒ½çš„æœ€ä½é˜ˆå€¼å¤§çº¦åœ¨ä¸ªä½æ•°æ°´å¹³ã€‚
                        </div>
                        
                        <p><span class="commentable-text" data-text-id="text-1-2">å¤šä¹ˆæ­£å¼çš„å‘è¨€å•Šï¼Œè¿™å¾ˆç¬¦åˆæˆ‘å¯¹ä½ çš„å°è±¡ï¼Œä¸€ä¸ªæœ‰è€å¿ƒè€Œä¸“æ³¨çš„äººæ‰ä¼šç»ƒå‡ºè¿™ä¹ˆæ ‡å‡†çš„è‹±è¯­å‘éŸ³</span>ã€‚ä½ è¯´çš„è¯å’Œæˆ‘æƒ³çš„æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘æœ‰äº›ç´§å¼ äº†ï¼Œç”Ÿæ€•è‡ªå·±å›ç­”ä¸ä¸Šä½ çš„é—®é¢˜ã€‚</p>
                        
                        <div class="highlight-box">
                            <span class="commentable-text" data-text-id="text-1-3">æˆ‘æ‰¿è®¤ï¼Œæˆ‘è¿‡äº†20å¤šåˆ†é’Ÿæ‰å›ç­”ä½ ï¼Œä¸æ˜¯å› ä¸ºæˆ‘æ‰çœ‹è§ï¼Œè€Œæ˜¯å› ä¸ºæˆ‘æƒ³å›ç­”çš„æ›´å®Œç¾ä¸€ç‚¹ã€‚</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ç›¸ç†Ÿ -->
            <div class="timeline-item" style="animation-delay: 0.3s" data-item-id="item-2">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <div class="timeline-date">
                        <i class="fas fa-calendar-alt"></i>
                        2025å¹´5æœˆ28æ—¥
                    </div>
                    <h3 class="timeline-title">perlçš„è¶£äº‹</h3>
                    <div class="timeline-text">
                        <p>æˆ‘å¾ˆé«˜å…´æˆ‘å’Œä½ åœ¨åŒä¸€èŠ‚perlçš„è¯¾ä¸Šï¼Œè¿™å ‚è¯¾äººä¸å¤šï¼Œæˆ‘æ€»ååœ¨ä½ çš„å·¦åæ–¹ï¼Œè¿™æ ·å¯ä»¥<span class="commentable-text" data-text-id="text-2-1">å·å·çŸä½ å‡ çœ¼</span></p>
                        
                        <div class="memory-item">
                            <div class="memory-icon">
                                <i class="fas fa-flask"></i>
                            </div>
                            <div>
                                <strong>çªæ¥çš„è¯¢é—®</strong><br>
                                ä½ è¯¢é—®æˆ‘pmæ–‡ä»¶æ˜¯åšä»€ä¹ˆç”¨çš„ï¼Œæˆ‘å‘ä½ è§£é‡Šäº†ä¸€ä¸‹pmæ¨¡å—çš„æ¦‚å¿µã€‚<span class="commentable-text" data-text-id="text-2-2">ä½ å¾ˆå¿«æ˜ç™½äº†æˆ‘è¦åšä»€ä¹ˆã€‚äºæ˜¯ä¸ºæˆ‘ä»¬åç»­çš„è®¨è®ºä¹Ÿå¥ å®šäº†åŸºç¡€</span>ã€‚æˆ‘ä»¬ç»§ç»­è®¨è®ºäº†å¾ˆå¤šperlçš„ç¨‹åºï¼Œæˆ‘ç”šè‡³ç™»ä¸Šäº†ä½ çš„perlè´¦å·ï¼Œä½ ä¹Ÿæ²¡æœ‰åå¯¹ï¼Œè¿™æ˜¯ä¸€ä¸ªå¥½çš„å¼€å§‹ã€‚
                                <p>æˆ‘åœ¨æ­¤ä¹‹åå‘ä½ å¯»æ±‚äº†ç‰©ç†ç¬”è®°ï¼Œä½ æ˜¯å¦‚æ­¤çš„å¥½å¿ƒï¼Œè¶³è¶³ç»™äº†æˆ‘99é¡µã€‚qwq</p>
                            </div>
                        </div>
                            
                       <div class="memory-item">
                            <div class="memory-icon">
                                <i class="fas fa-utensils"></i>
                            </div>
                            <div>
                                <strong>å†™perlçš„å¤§ä½œä¸š</strong><br>
                                2025å¹´6æœˆ9æ—¥
                            </div>
                        </div>
                        
                        <div class="chat-bubble chat-left">
                            æœ±å˜‰èŒ—ä½ ç¡äº†å—ï¼Œå¯ä»¥å¸®ä¸ªå¿™å—ï¼Œä½ çŸ¥é“æ€ä¹ˆä¼ ä¸¤ä¸ªå“ˆå¸Œå˜é‡å—ï¼Ÿ
                        </div>
                        <div class="chat-bubble chat-right">
                            æˆ‘æ­£æ‰“ç®—ç¡äº†ï¼Œä¸è¿‡è¿˜æ²¡æœ‰ã€‚ç›´æ¥å‘æˆ‘ç¨‹åºå’Œéœ€æ±‚å§ï¼Œæˆ‘è¯•è¯•é€Ÿæˆ˜é€Ÿå†³ï¼Œè¯è¯´å¾ˆæ€¥ä¹ˆï¼Ÿ
                        </div>
                        <div class="chat-bubble chat-left">
                            æ€¥ï¼Œè¯¥å¾ˆå¿«
                        </div>
                        <p>äºæ˜¯æˆ‘å¼€å§‹å†™ä»£ç ï¼Œå†™ç€å†™ç€å‘ç°äº†å°‘äº†ç‚¹ä¸œè¥¿ï¼Œæˆ‘å°±å‘ä½ è¯¢é—®å¯æ˜¯æ²¡æœ‰å›å¤ï¼Œæˆ‘å¾ˆç€æ€¥ï¼Œæˆ‘æƒ³ä½ æ¯æ¬¡å¾—ä¸åˆ°æˆ‘å›å¤çš„æ—¶å€™åº”è¯¥å’Œæˆ‘æ˜¯ä¸€æ ·ç€æ€¥çš„ï¼Œæˆ‘åœ¨è¿™é‡Œå’Œä½ é“ä¸ªæ­‰.<p>    
                        <p>åœ¨ä½ å›å¤æˆ‘åæˆ‘å¾—çŸ¥ä½ æ˜¯å»æ´—æ¾¡äº†ï¼Œæˆ‘å¼€å§‹æ’æŸ¥é—®é¢˜ï¼Œå‘ç°æ˜¯wybå°‘æ”¾äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¥ä¸ºæˆ‘è§£å†³å®Œæ¯•äº†ã€‚</p>
                        <div class="chat-bubble chat-right">
                            åº”è¯¥å¯ä»¥äº†ï¼Œæˆ‘å…ˆç¡äº†
                        </div>
                        <div class="chat-bubble chat-left">
                            å¯ä»¥è¿è¡Œäº†ï¼Œå®ƒçš„å¼€å§‹æœ‰è¿™ä¸ªé—®é¢˜
                        </div>
                        <div class="chat-bubble chat-right">
                            æˆ‘å…ˆä¸ç¡
                        </div>
                        
                        <p><span class="commentable-text" data-text-id="text-2-3">æˆ‘ç»§ç»­çš„ä¿®æ”¹ä¸‹å»ï¼Œå¾ˆé«˜å…´è¿˜æ˜¯è¾ƒå¿«çš„æå®šäº†é—®é¢˜ï¼Œå¾—ä»¥ç¡è§‰äº†</span>ã€‚ä¹‹åæˆ‘éå¸¸çš„æƒŠè®¶çš„å‘ç°ä½ ä»¬åœ¨æ¼”è®²æ—¶æŠŠæˆ‘æ”¾åœ¨äº†æŒ‡å¯¼è€å¸ˆçš„ä½ç½®ã€‚</p>    
                    </div>
                </div>
            </div>

            <!-- å¿ƒåŠ¨ -->
            <div class="timeline-item" style="animation-delay: 0.5s" data-item-id="item-3">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <div class="timeline-date">
                        <i class="fas fa-calendar-alt"></i>
                        æš‘å‡
                    </div>
                    <h3 class="timeline-title">ç¬¬ä¸€æ¬¡å¿ƒè·³åŠ é€Ÿ</h3>
                    <div class="timeline-text">
                        <p>åœ¨æš‘å‡ï¼Œé‚£å¤©æ™šä¸Šæˆ‘ä»¬å››ä¸ªäººç©ç€æ‰‘å…‹äºå®éªŒæ¥¼å°é…Œ</p>
                        
                        <div class="highlight-box">
                            <span class="commentable-text" data-text-id="text-3-1">å½“æ—¶æˆ‘æ˜¯å¦‚æ­¤çš„æ¿€åŠ¨ï¼Œæˆ‘ä¸çŸ¥é“æ˜¯æˆ‘å–å¤šäº†é…’å—ï¼Ÿè¿˜æ˜¯æ„Ÿå—åˆ°äº†å–œæ¬¢çš„å¥³å­©å­ä¸æˆ‘æœ‰ä¸€ä¸å¯èƒ½ï¼Ÿæ¯•ç«Ÿä¹‹å‰çš„äº‹æƒ…è®©æˆ‘è§‰å¾—ä½ å®Œå…¨æ˜¯ä¸å–œæ¬¢æˆ‘çš„ã€‚æˆ‘å¾ˆæ¿€åŠ¨ï¼Œå¿ä¸ä½ç«™èµ·æ¥åˆåä¸‹ï¼Œå°±åƒæ˜¯æ„Ÿåˆ°æ˜¥å¤©çš„ç§å­æƒ³è¦ä¼¸å‡ºèŠ½ã€‚</span>
                        </div>
                        
                        <p>é‚£å¤©æ™šä¸Šæˆ‘æ˜¯å¦‚æ­¤çš„å‚»ï¼Œæƒ³æ‰¶ä½ å›å®¿èˆå´åˆæ‹…å¿ƒä½ å«Œå¼ƒæˆ‘ï¼Œäºæ˜¯æ‹¿å‡ºäº†ä¸€æŠŠä¼é—®ä½ è¦ä¸è¦æ‰¶ç€ä¼èµ°ã€‚<span class="commentable-text" data-text-id="text-3-2">ç°åœ¨æƒ³æƒ³è¦è¢«è‡ªå·±è ¢ç¬‘äº†ï¼Œæˆ‘ä¸å¤§è®°å¾—å‘ç”Ÿäº†ä»€ä¹ˆï¼Œä½†æˆ‘æ”¶èµ·äº†é‚£æŠŠå¯ç¬‘çš„ä¼ï¼Œäº²æ‰‹æ‰¶ç€ä½ å›å®¿èˆã€‚</span></p>
                        
                        <div class="chat-bubble chat-right" style="margin-top: 15px;">
                            å®‰å…¨åˆ°å®¿èˆäº†å—ï¼Ÿ
                        </div>
                        
                        <div class="chat-bubble chat-left">
                            æˆ‘ä»¬ä¸¤ä¸ªç°åœ¨å·²ç»åˆ°äº†å®¿èˆï¼Œå‡†å¤‡å»æ´—æ¾¡ã€‚ï¼ˆè¿™å¥è¯è¯´äº†10ç§’ï¼‰
                        </div>
                        
                        <div class="chat-bubble chat-right">
                            æ„Ÿè§‰æˆ‘æˆæˆ˜çŠ¯äº†ï¼Œæˆ‘å»ºè®®ä½ æ˜å¤©å¬ä¸€ä¸‹è¿™ä¸ªè¯­éŸ³
                        </div>
                        <div class="chat-bubble chat-right" style="margin-top: 15px;">
                            700*0.08=56ï¼Œä»¥ååˆ«åˆ°è¿™ä¸ªé‡ã€‚ä½ ä¸ŠåºŠä¹Ÿå°å¿ƒç‚¹ï¼Œåˆ«æ‰ä¸‹æ¥äº†
                        </div>
                        
                        <div class="chat-bubble chat-left">
                           æˆ‘è·Ÿä½ è¯´æœ±å˜‰èŒ—ã€‚å“¦ï¼Œæˆ‘ä»Šå¤©å»æ™¨æ›¦å®¿èˆæ´—çš„æ¾¡ï¼Œæ™¨æ›¦å®¿èˆçš„èŠ±æ´’çš„å¤´æ˜¯é»‘è‰²çš„ã€‚æˆ‘ä»¬å®¿èˆçš„èŠ±æ´’å¤´ä¹Ÿæ˜¯ç™½è‰²çš„ã€‚æˆ‘å½“æ—¶çœ‹åˆ°é™ˆæ›¦å®¿èˆçš„èŠ±è‰éƒ½æ˜¯é»‘è‰²çš„ï¼Œæˆ‘è§‰å¾—å¾ˆç¥å¥‡ã€‚ï¼ˆè¿™ä¸¤å¥è¯è¯´äº†34ç§’ï¼‰
                        </div>
                        
                        <div class="chat-bubble chat-right">
                            å¥½çš„ï¼Œä¸è¦ç€æ€¥ï¼Œä½ æ—©ç‚¹ä¼‘æ¯ã€‚
                        </div>
                        <div class="chat-bubble chat-left">
                           æˆ‘å·²ç»å¹å®Œäº†ï¼Œæˆ‘æ„Ÿè§‰æˆ‘å¿«å—ä¸äº†äº†ã€‚æˆ‘ç°åœ¨æ­£è¦ç¡è§‰äº†ï¼Œä½ ä»¬ä¹Ÿæ—©ç‚¹ç¡å§ã€‚
                        </div>
                        
                        <div class="chat-bubble chat-right">
                            okokï¼Œæ™šå®‰ã€‚ï¼ˆè¿™ä¹Ÿè®¸æ˜¯ç¬¬ä¸€æ¬¡æˆ‘å’Œä½ è¯´æ™šå®‰ï¼‰
                        </div>
                        <p><span class="commentable-text" data-text-id="text-3-3">è¿˜å¥½ç¬¬äºŒå¤©ä½ å°±æ¢å¤äº†ï¼Œä¸ç„¶æˆ‘å¯çœŸå°±æˆäº†ç½ªäººã€‚ä¸è¿‡å°çŒ«è€æ˜¯æƒ³ç€å–é…’ï¼Œå¥½åƒä¸€ç›´ä»¥ä¸ºè‡ªå·±è¿˜èƒ½å–çš„æ›´å¤šï¼Œæˆ‘å®åœ¨æ˜¯æœ‰äº›æ‹…å¿ƒã€‚</span></p>
                    </div>
                </div>
            </div>

            <!-- ç¡®è®¤ -->
            <div class="timeline-item" style="animation-delay: 0.7s" data-item-id="item-4">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <div class="timeline-date">
                        <i class="fas fa-calendar-alt"></i>
                        æš‘å‡æœ«æœŸ
                    </div>
                    <h3 class="timeline-title">700Ã—0.08=56</h3>
                    <div class="timeline-text">
                        <p>ä¹‹åçš„è¿›å±•å°±å¾ˆé£é€Ÿäº†ï¼Œç°åœ¨æƒ³æƒ³ä¹Ÿæœ‰äº›ç¾å¥½çš„å¦‚æ¢¦ä¼¼å¹»ã€‚</p>
                        
                        <div class="memory-item">
                            <div class="memory-icon">
                                <i class="fas fa-calculator"></i>
                            </div>
                            <div>
                                <strong>å†å›å®¿èˆ</strong><br>
                                æˆ‘å’Œä½ åœ¨æ™šä¸Šä»å®éªŒå®¤èµ°å‡ºï¼Œå¿«åˆ°æµ·7æ—¶æˆ‘ç´§å¼ æäº†ï¼Œä½†è¿˜æ˜¯ä¸‹å®šå†³å¿ƒä¸èµ°è¿›æµ·7ï¼Œè€Œæ˜¯é™ªç€ä½ å‘å±±ä¸Šèµ°å»ã€‚<br>
                                <span class="commentable-text" data-text-id="text-4-1">æˆ‘ä»¬çœ‹äº†å°çŒ«ï¼Œç»™çš®å¡ä¸å°çŒ«æ‹äº†ç…§ç‰‡ã€‚è¿™ç›®å‰ç®—æ˜¯æˆ‘çš„é«˜æ°´å¹³ä¹‹ä½œäº†ï¼Œä¸è¿‡æˆ‘è§‰å¾—ä¹‹åè‚¯å®šä¼šæœ‰åŒæ ·å¥½çš„ç…§ç‰‡ã€‚</span>
                            </div>
                        </div>
                        <div class="photo-item" style="height: 300px; margin: 20px 0; border-radius: 10px; overflow: hidden;">
                            <img src="å°çŒ«ä¸å°çŒ«.jpg" alt="çš®å¡ä¸å°çŒ«çš„åˆå½±" style="width: 100%; height: 100%; object-fit: cover;">
                            <div class="photo-caption">çš®å¡ä¸å°çŒ«çš„åˆå½±å“¦</div>
                        </div>
                        <p><span class="commentable-text" data-text-id="text-4-2">è¿™ä¸€åˆ»ï¼Œæˆ‘çŸ¥é“ä½ åŒæ ·ä¹Ÿè®¤å¯äº†æˆ‘ã€‚æˆ‘ä¹‹å‰è¢«ä½ æ‰“å‡»åˆ°çš„å¿ƒåˆæ­»ç°å¤ç‡ƒäº†ï¼Œæˆ‘çŸ¥é“æˆ‘å–œæ¬¢ä½ ï¼Œä½†ç°åœ¨æˆ‘æ•¢äºå–œæ¬¢ä½ äº†</span></p>
                        
                        <p>æˆ‘æƒ³èµ·æˆ‘åœ¨3æœˆå¤šçš„æ—¶å€™ç»™æˆ‘çš„æœ‹å‹è¯´åŒå¹´çº§æœ‰ä¸€ä¸ªä¼˜ç§€çš„å¥³ç”Ÿï¼Œä»–é—®æˆ‘æ˜¯ä¸æ˜¯å–œæ¬¢äººå®¶ï¼Œæˆ‘æ²¡è¯´åªæ˜¯å‘ç»™äº†ä»–ä¸€å¼ ä½ æœ‹å‹åœˆçš„ç…§ç‰‡ã€‚<span class="commentable-text" data-text-id="text-4-3">ç°åœ¨æˆ‘æƒ³æˆ‘å¯ä»¥å¤§èƒ†çš„è¯´å‡ºå£äº†ã€‚</span></p>
                        
                        <div class="highlight-box">
                            <span class="commentable-text" data-text-id="text-4-4">æˆ‘æƒ³äº†ä¸€ä¸‹ï¼Œåˆä¼¼ä¹æƒ³äº†å¾ˆä¹…ã€‚æ˜¯çš„ï¼Œæˆ‘å–œæ¬¢ä½ ã€‚å–œæ¬¢ä½ åšå®éªŒæ—¶çš„ä¸“æ³¨ï¼Œå–œæ¬¢ä½ å¸®æˆ‘æ‹ç‰©ç†ä½œä¸šæ—¶çš„è€å¿ƒï¼Œå–œæ¬¢ä½ è®¨è®ºé—®é¢˜æ—¶çš„è®¤çœŸï¼Œä¹Ÿå–œæ¬¢ä½ å‹¤äºå­¦ä¹ çš„åˆ»è‹¦ã€‚æˆ‘æƒ³èµ·é‚£æ¬¡çœ‹è§ä½ æ¡èµ·åœ°ä¸Šçš„çº¸å›¢ä¸¢è¿›åƒåœ¾æ¡¶ï¼Œä½ æ˜¯æˆ‘ç”Ÿå‘½ä¸­æœ€äº®çš„å…‰ï¼Œè€Œæˆ‘æƒ³è¦é è¿‘è¿™æŸå…‰ã€‚</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- åœ¨ä¸€èµ· -->
            <div class="timeline-item" style="animation-delay: 0.9s" data-item-id="item-5">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <div class="timeline-date">
                        <i class="fas fa-calendar-alt"></i>
                        2025å¹´9æœˆ
                    </div>
                    <h3 class="timeline-title">æˆ‘ä»¬åœ¨ä¸€èµ·</h3>
                    <div class="timeline-text">
                        <p>æˆ‘æƒ³è¦æ­£å¼å‘ä½ è¯´ä¸€å£°ï¼Œæˆ‘å–œæ¬¢ä½ ã€‚äºæ˜¯æˆ‘çº¦ä½ å»æƒ…ä¾£è·¯ã€‚<span class="commentable-text" data-text-id="text-5-1">æˆ‘æ˜¯å¦‚æ­¤çš„ç¬¨æ‹™ï¼Œå–å‡ºæˆ’æŒ‡éƒ½èŠ±äº†å¤ªé•¿çš„æ—¶é—´ï¼Œä»¥è‡³äºå¿˜è®°äº†è¦è¯´ä»€ä¹ˆï¼Œè¿˜æ˜¯åœ¨ä½ çš„æé†’ä¸‹æ‰å“äº†èµ·æ¥ã€‚</span></p>
                        
                        <div class="photo-wall">
                            <!-- çœŸå®ç…§ç‰‡å¢™ -->
                            <div class="photo-item">
                                <img src="å°çŒ«çš„ç¤¼ç‰©.png" alt="å°çŒ«çš„ç¤¼ç‰©" style="width: 100%; height: 100%; object-fit: cover;">
                                <div class="photo-caption">ç»™å°çŒ«çš„ç¤¼ç‰©</div>
                            </div>
                            <div class="photo-item">
                                <img src="å°çŒ«å¼ å˜´.jpg" alt="å°çŒ«å¼ å˜´" style="width: 100%; height: 100%; object-fit: cover;">
                                <div class="photo-caption">å°çŒ«å¼ å˜´ï¼Œä¹‹åå°±å–œæ¬¢è®©å°çŒ«å¼ å˜´</div>
                            </div>
                            <div class="photo-item">
                                <img src="å·æ‹å°çŒ«.png" alt="å·æ‹å°çŒ«" style="width: 100%; height: 100%; object-fit: cover;">
                                <div class="photo-caption">å·æ‹å°çŒ«</div>
                            </div>
                            <div class="photo-item">
                                <img src="å°çŒ«çš„è›‹ç³•.jpg" alt="å°çŒ«çš„è›‹ç³•" style="width: 100%; height: 100%; object-fit: cover;">
                                <div class="photo-caption">å°çŒ«é€ç»™æˆ‘çš„è›‹ç³•ï¼Œå–œæ¬¢å°çŒ«</div>
                            </div>
                            <div class="photo-item">
                                <img src="å°çŒ«ä¸èœ¥èœ´.jpg" alt="å°çŒ«ä¸èœ¥èœ´" style="width: 100%; height: 100%; object-fit: cover;">
                                <div class="photo-caption">å°çŒ«ä¸èœ¥èœ´</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- è‡³ä»Š -->
            <div class="timeline-item" style="animation-delay: 1.1s" data-item-id="item-6">
                <div class="timeline-dot"></div>
                <div class="timeline-content">
                    <div class="timeline-date">
                        <i class="fas fa-calendar-alt"></i>
                        å¯’å‡
                    </div>
                    <h3 class="timeline-title">æˆ‘ä»¬çš„å¼‚åœ°</h3>
                    <div class="timeline-text">
                        <p>åœ¨å¯’å‡æ˜¯æˆ‘ä»¬æœ€é•¿çš„ä¸€æ¬¡å¼‚åœ°ï¼Œæˆ‘æ„Ÿè§‰è¿™ä¸ªå¯’å‡æˆ‘è®©ä½ è¿‡çš„ä¸å¤ªå¥½ã€‚</p>
                        
                        <div class="memory-item">
                            <div class="memory-icon">
                                <i class="fas fa-birthday-cake"></i>
                            </div>
                            <div>
                                <strong>è®©ä½ æ„Ÿåˆ°è¢«å¿½è§†</strong><br>
                                <span class="commentable-text" data-text-id="text-6-1">é‚£å¤©è®©ä½ å› ä¸ºæ¶ˆæ¯çš„äº‹éš¾è¿‡ï¼Œæˆ‘ä¼šä¸€ç›´è®°ç€ã€‚é‚£ä¸æ˜¯æˆ‘æ•…æ„ä¸å›åº”ï¼Œæ°æ°æ˜¯å› ä¸ºä½ åœ¨æˆ‘å¿ƒé‡Œå¤ªé‡è¦äº†ï¼Œæˆ‘æ‰æ€•è‡ªå·±è¯´é”™è¯ï¼Œåå€’è®©ä½ æ›´ä¸èˆ’æœï¼Œå¯æˆ‘ååå¿˜äº†ï¼Œæ²‰é»˜å’Œå‡è£…æ²¡å‘ç”Ÿï¼Œæ‰æ˜¯å¯¹ä½ æ›´å¤§çš„ä¼¤å®³ã€‚ä½ è¯´çš„è¯æˆ‘éƒ½è®°åœ¨å¿ƒé‡Œäº†ï¼Œä»¥åæˆ‘ä¸€å®šæ”¹ï¼Œä¸ç®¡æ€ä¹ˆæ ·ï¼Œéƒ½ä¼šå¥½å¥½å›åº”ä½ çš„æƒ…ç»ªï¼Œå†ä¹Ÿä¸ä¼šè®©ä½ ç‹¬è‡ªèƒ¡æ€ä¹±æƒ³ã€‚</span>
                            </div>
                        </div>
                        <div class="memory-item">
                            <div class="memory-icon">
                                <i class="fas fa-plane"></i>
                            </div>
                            <div>
                                <strong>æƒ…äººèŠ‚</strong><br>
                                <span class="commentable-text" data-text-id="text-6-2">æˆ‘å¾ˆæŠ±æ­‰ï¼Œæˆ‘æœ¬æƒ³ç€å’Œä½ æ‰“ç”µè¯çš„æ—¶å€™äº²å£è¯´æƒ…äººèŠ‚å¿«ä¹ï¼Œå¹¶ä¸”å’Œä½ å¤šèŠä¸€èŠã€‚ä½†æ˜¯æˆ‘æ²¡æœ‰æƒ³åˆ°ä½ ä¼šç¡çš„è¿™ä¹ˆæ—©ï¼Œä»¥è‡³äºæˆ‘åªèƒ½åœ¨ä½ ç¡è§‰ä¹‹åå†è¯´ã€‚æˆ‘å¾ˆéš¾è¿‡ï¼Œæˆ‘åº”è¯¥æ›´å¤šçš„å’Œä½ æ²Ÿé€šã€‚æ‘†è„±æˆ‘çš„æ‹–å»¶ç—‡ï¼Œæ—©ä¸€ç‚¹è¯´è€Œå…å¾—å¤ªè¿Ÿé”™è¿‡äº†ã€‚</span>
                            </div>
                        </div>
                        
                        <p style="text-align: center; margin-top: 20px; font-size: 1.2rem;">
                            <i class="fas fa-heart" style="color: var(--accent-color); margin-right: 10px;"></i>
                           <span class="commentable-text" data-text-id="text-6-3">æˆ‘å¾ˆçˆ±ä½ ï¼Œä»æ¥éƒ½ä¸æƒ³è®©ä½ å—å§”å±ˆã€è§‰å¾—ç—›è‹¦ï¼Œè¿™äº›è¯å°±å½“æ˜¯æˆ‘è¿Ÿåˆ°çš„æƒ…äººèŠ‚ç¤¼ç‰©å§ã€‚ä½ ä¸ç”¨è§‰å¾—è¦åˆ»æ„å˜å¾—ç‹¬ç«‹ï¼Œæˆ‘æ°¸è¿œæ˜¯ä½ çš„ä¾é ï¼Œä¹Ÿå¸Œæœ›ä½ ä¾æ—§å¯ä»¥æ”¾å¿ƒåœ°ä¾èµ–æˆ‘ï¼Œä¸ç®¡ä»€ä¹ˆæƒ…ç»ªï¼Œéƒ½å¯ä»¥æ¯«æ— ä¿ç•™åœ°å‘Šè¯‰æˆ‘ï¼Œå¥½å—ï¼Ÿ</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- æ—¶é—´çº¿ç»“æŸ -->

        <!-- è¯„è®ºå¼¹çª— -->
        <div class="comment-modal" id="commentModal">
            <div class="comment-modal-content">
                <div class="comment-modal-header">
                    <h3>æ·»åŠ è¯„è®º</h3>
                </div>
                <div class="selected-text-preview" id="selectedTextPreview">
                    è¯·é€‰æ‹©è¦è¯„è®ºçš„æ–‡æœ¬...
                </div>
                <div class="author-selection">
                    <div class="author-option cat" data-author="cat" onclick="selectAuthor('cat')">
                        <span class="author-icon">ğŸ±</span>
                        <span class="author-name">å°çŒ«</span>
                    </div>
                    <div class="author-option fox" data-author="fox" onclick="selectAuthor('fox')">
                        <span class="author-icon">ğŸ¦Š</span>
                        <span class="author-name">ç‹ç‹¸</span>
                    </div>
                </div>
                <textarea class="comment-textarea" id="commentTextarea" placeholder="å†™ä¸‹ä½ çš„è¯„è®º..."></textarea>
                <div class="modal-buttons">
                    <button class="modal-btn cancel" onclick="closeCommentModal()">å–æ¶ˆ</button>
                    <button class="modal-btn submit" id="submitCommentBtn" onclick="submitComment()" disabled>å‘è¡¨è¯„è®º</button>
                </div>
            </div>
        </div>
        <!-- æ–°å¢ï¼šæ—¶é—´è½´ç¼–è¾‘é¢æ¿ -->
        <div class="timeline-editor" id="timelineEditor">
            <div class="editor-toggle" onclick="toggleEditor()">
                <i class="fas fa-plus-circle"></i>
                <span>æ·»åŠ æ–°èŠ‚ç‚¹</span>
            </div>
            <div class="editor-panel">
                <h3>æ·»åŠ æ–°çš„æ—¶é—´è½´èŠ‚ç‚¹</h3>
                <div class="editor-form">
                    <div id="entriesContainer"></div>

                    <div style="display:flex;gap:12px;margin-bottom:12px;">
                        <button type="button" class="btn-secondary" onclick="addEntryRow()">æ·»åŠ æ¡ç›®</button>
                        <span style="align-self:center;color:#718096;font-size:0.9rem">å¯è¿ç»­æ·»åŠ å¤šä¸ªæ¡ç›®ï¼Œæ¯ä¸ªæ¡ç›®ç‹¬ç«‹é€‰æ‹©ç±»å‹</span>
                    </div>

                    <div class="editor-buttons">
                        <button class="btn-delete" onclick="deleteTimelineItem()" style="display: none;">åˆ é™¤</button>
                        <button class="btn-secondary" onclick="cancelEdit()">å–æ¶ˆ</button>
                        <button class="btn-primary" onclick="saveNewTimelineItem()">ä¿å­˜</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- é¡µè„š -->
        <footer class="footer">
            <div class="footer-text">
                ä»ä¸€å¥"ä¸‹åˆå¥½"å¼€å§‹çš„æ•…äº‹ï¼Œ<br>
                å†™äº†å¤§åŠå¹´ï¼Œè¿˜ä¼šå†™å¾ˆå¤šå¾ˆå¤šå¹´ã€‚
            </div>
            <div class="heart-beat">
                <i class="fas fa-heart"></i>
            </div>
        </footer>
    </div>

    <script>
                // ==== JSONBin é…ç½®åŒº (å¿…é¡»ä¿®æ”¹ï¼) ====
        const JSONBIN_BIN_ID = '699d8c76d0ea881f40d4c648'; // æ›¿æ¢ä¸ºæ‚¨çš„ Bin ID
        const JSONBIN_MASTER_KEY = '$2a$10$oGxRLV.ow32Nrmg.ypEDbOGnnDnm2ENYhGSUACepgP4S0YWeerPra'; // æ›¿æ¢ä¸ºæ‚¨çš„ Master Key
        const JSONBIN_API_URL = `https://api.jsonbin.io/v3/b/${JSONBIN_BIN_ID}`;
        // ==== é…ç½®ç»“æŸ ====
        // å…¨å±€å˜é‡
        let selectedTextId = null;
        let selectedTextContent = null;
        let selectedAuthor = null;
        let currentTimelineItem = null;

        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œæ‰€æœ‰åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            // 1. æ»šåŠ¨åŠ¨ç”»åŠŸèƒ½
            const timelineItems = document.querySelectorAll('.timeline-item');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animationPlayState = 'running';
                    }
                });
            }, { threshold: 0.1 });
            
            timelineItems.forEach(item => {
                item.style.animationPlayState = 'paused';
                observer.observe(item);
            });

            // 2. å¯åŠ¨çˆ±å¿ƒé›¨èƒŒæ™¯æ•ˆæœ
            startHeartRain();

            // 3-5. å…ˆåŠ è½½è‡ªå®šä¹‰æ—¶é—´è½´èŠ‚ç‚¹ï¼Œå†åˆå§‹åŒ–å¯è¯„è®ºæ–‡æœ¬å¹¶åŠ è½½è¯„è®º
            loadCustomTimelineItems().then(() => {
                initCommentableText();
                initCommentForm();
                loadComments();
                // ç¡®ä¿ç¼–è¾‘æŒ‰é’®åœ¨è‡ªå®šä¹‰èŠ‚ç‚¹æ¸²æŸ“åæ·»åŠ 
                setTimeout(() => { addEditButtonsToExistingItems(); }, 500);
            }).catch(err => {
                console.error('åŠ è½½è‡ªå®šä¹‰èŠ‚ç‚¹å¤±è´¥ï¼ˆé¦–æ¬¡ï¼‰:', err);
                // å›é€€åˆ°é»˜è®¤åˆå§‹åŒ–é¡ºåº
                initCommentableText();
                initCommentForm();
                loadComments();
                setTimeout(() => { addEditButtonsToExistingItems(); }, 500);
            });
        });

        // çˆ±å¿ƒé›¨èƒŒæ™¯æ•ˆæœå‡½æ•°
        function startHeartRain() {
            // åˆ›å»ºçˆ±å¿ƒå®¹å™¨
            const heartContainer = document.createElement('div');
            heartContainer.id = 'heart-rain-container';
            Object.assign(heartContainer.style, {
                position: 'fixed',
                top: '0',
                left: '0',
                width: '100%',
                height: '100%',
                pointerEvents: 'none',
                zIndex: '1',
                overflow: 'hidden'
            });
            document.body.appendChild(heartContainer);

            // åˆ›å»ºå•ä¸ªçˆ±å¿ƒçš„å‡½æ•°
            function createHeart() {
                const heart = document.createElement('div');
                heart.innerHTML = 'â¤ï¸';
                Object.assign(heart.style, {
                    position: 'absolute',
                    fontSize: (Math.random() * 20 + 25) + 'px', // å¢å¤§åˆ°25-45px
                    left: (Math.random() * 100) + '%',
                    top: '-50px', // è°ƒæ•´èµ·å§‹ä½ç½®
                    opacity: Math.random() * 0.5 + 0.3, // å¢åŠ é€æ˜åº¦èŒƒå›´
                    pointerEvents: 'none',
                    userSelect: 'none',
                    animation: `heartFall ${Math.random() * 4 + 3}s linear forwards`, // ç¨å¾®å»¶é•¿åŠ¨ç”»æ—¶é—´
                    color: getRandomHeartColor()
                });
                
                heartContainer.appendChild(heart);

                // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
                setTimeout(() => {
                    if (heart.parentNode) {
                        heart.parentNode.removeChild(heart);
                    }
                }, 7000); // å»¶é•¿æ¸…ç†æ—¶é—´
            }

            // è·å–éšæœºçˆ±å¿ƒé¢œè‰²
            function getRandomHeartColor() {
                const colors = ['#ff6b6b', '#ff8e8e', '#ffb6c1', '#ff9a8b', '#ff7eb3', '#ffc0cb', '#ff1493'];
                return colors[Math.floor(Math.random() * colors.length)];
            }

            // å¼€å§‹å®šæ—¶åˆ›å»ºçˆ±å¿ƒ - é™ä½é¢‘ç‡é¿å…è¿‡äºå¯†é›†
            setInterval(createHeart, 800);

            // æ·»åŠ CSSåŠ¨ç”»å…³é”®å¸§
            const styleSheet = document.createElement('style');
            styleSheet.textContent = `
                @keyframes heartFall {
                    0% {
                        transform: translateY(0) rotate(0deg);
                        opacity: 0;
                    }
                    10% {
                        opacity: inherit;
                    }
                    90% {
                        opacity: inherit;
                    }
                    100% {
                        transform: translateY(100vh) rotate(${Math.random() * 1080}deg); // å¢åŠ æ—‹è½¬è§’åº¦
                        opacity: 0;
                    }
                }
                
                /* ç¡®ä¿ä¸»è¦å†…å®¹åœ¨çˆ±å¿ƒä¹‹ä¸Š */
                .container, .header, .timeline, .footer {
                    position: relative;
                    z-index: 10;
                }
            `;
            document.head.appendChild(styleSheet);
        }

                // åˆå§‹åŒ–å¯è¯„è®ºæ–‡æœ¬ - ä¿®å¤ç‰ˆæœ¬
        function initCommentableText() {
            // 1. å·²æœ‰çš„å¯è¯„è®ºæ–‡æœ¬
            const commentableTexts = document.querySelectorAll('.commentable-text');
            
            // 2. ä¸ºæ—¶é—´çº¿æè¿°æ®µè½æ·»åŠ è¯„è®ºåŠŸèƒ½
            const timelineParagraphs = document.querySelectorAll('.timeline-text p:not(.commentable-text)');
            
            // 3. ä¸ºèŠå¤©æ°”æ³¡æ·»åŠ è¯„è®ºåŠŸèƒ½
            const chatBubbles = document.querySelectorAll('.chat-bubble');
            
            // 4. ä¸ºè®°å¿†é¡¹ç›®æ·»åŠ è¯„è®ºåŠŸèƒ½
            const memoryItems = document.querySelectorAll('.memory-item');
            
            // åˆå¹¶æ‰€æœ‰å¯è¯„è®ºå…ƒç´ 
            const allCommentableElements = [
                ...commentableTexts, 
                ...timelineParagraphs, 
                ...chatBubbles,
                ...memoryItems
            ];
            
            // å›ºå®šIDç”Ÿæˆå‡½æ•°
            function generateStableId(text) {
                // ç®€å•å“ˆå¸Œå‡½æ•°ï¼Œä¸ºæ–‡æœ¬ç”Ÿæˆä¸€ä¸ªç®€çŸ­å›ºå®šå­—ç¬¦ä¸²
                let hash = 0;
                for (let i = 0; i < text.length; i++) {
                    hash = ((hash << 5) - hash) + text.charCodeAt(i);
                    hash |= 0; // è½¬æ¢ä¸º32ä½æ•´æ•°
                }
                // å–ç»å¯¹å€¼å¹¶è½¬ä¸ºåŸºæ•°ä¸º36çš„çŸ­å­—ç¬¦ä¸²
                return 'text-' + Math.abs(hash).toString(36).substring(0, 8);
            }
            
            allCommentableElements.forEach((element, index) => {
                // ä¸ºæ²¡æœ‰data-text-idçš„å…ƒç´ æ·»åŠ å›ºå®šID
                if (!element.dataset.textId) {
                    // ä½¿ç”¨æ–‡æœ¬å†…å®¹ç”Ÿæˆå›ºå®šIDï¼ˆå–å‰100å­—ç¬¦é¿å…è¿‡é•¿ï¼‰
                    const textContent = element.textContent.trim().substring(0, 100);
                    element.dataset.textId = generateStableId(textContent);
                }
                
                // æ·»åŠ å¯è¯„è®ºæ ·å¼ï¼ˆå¦‚æœä¸æ˜¯span.commentable-textï¼‰
                if (!element.classList.contains('commentable-text') && element.tagName !== 'SPAN') {
                    element.style.cursor = 'pointer';
                    element.style.padding = '4px';
                    element.style.borderRadius = '3px';
                    element.style.transition = 'all 0.3s ease';
                    
                    // æ·»åŠ æ‚¬åœæ•ˆæœ
                    element.addEventListener('mouseenter', function() {
                        this.style.backgroundColor = 'rgba(255, 154, 139, 0.2)';
                        this.style.boxShadow = '0 0 0 2px rgba(255, 154, 139, 0.3)';
                    });
                    
                    element.addEventListener('mouseleave', function() {
                        if (!this.classList.contains('selected')) {
                            this.style.backgroundColor = '';
                            this.style.boxShadow = '';
                        }
                    });
                }
                
                // æ·»åŠ ç‚¹å‡»äº‹ä»¶
                element.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    // æ¸…é™¤ä¹‹å‰çš„é€‰æ‹©
                    document.querySelectorAll('.commentable-text, .timeline-text p, .chat-bubble, .memory-item').forEach(el => {
                        el.classList.remove('selected');
                        // æ¢å¤éspanå…ƒç´ çš„æ ·å¼
                        if (el.tagName !== 'SPAN') {
                            el.style.backgroundColor = '';
                            el.style.boxShadow = '';
                        }
                    });
                    
                    // æ ‡è®°å½“å‰é€‰æ‹©
                    this.classList.add('selected');
                    // ä¸ºéspanå…ƒç´ è®¾ç½®é€‰ä¸­æ ·å¼
                    if (this.tagName !== 'SPAN') {
                        this.style.backgroundColor = 'rgba(255, 154, 139, 0.4)';
                        this.style.boxShadow = '0 0 0 2px var(--accent-color)';
                    }
                    
                    // ä¿å­˜é€‰æ‹©ä¿¡æ¯
                    selectedTextId = this.dataset.textId;
                    selectedTextContent = this.textContent.trim();
                    currentTimelineItem = this.closest('.timeline-item');
                    
                    // æ˜¾ç¤ºè¯„è®ºå¼¹çª—
                    showCommentModal();
                });
            });
        }

        // æ˜¾ç¤ºè¯„è®ºå¼¹çª—
        function showCommentModal() {
            const modal = document.getElementById('commentModal');
            const preview = document.getElementById('selectedTextPreview');
            
            preview.textContent = selectedTextContent;
            modal.classList.add('active');
            
            // é‡ç½®è¡¨å•çŠ¶æ€
            resetCommentForm();
        }

        // å…³é—­è¯„è®ºå¼¹çª—
        function closeCommentModal() {
            const modal = document.getElementById('commentModal');
            modal.classList.remove('active');
            
            // æ¸…é™¤é€‰æ‹©çŠ¶æ€
            document.querySelectorAll('.commentable-text, .timeline-text p, .chat-bubble, .memory-item').forEach(el => {
                el.classList.remove('selected');
                // æ¢å¤éspanå…ƒç´ çš„æ ·å¼
                if (el.tagName !== 'SPAN') {
                    el.style.backgroundColor = '';
                    el.style.boxShadow = '';
                }
            });
            
            selectedTextId = null;
            selectedTextContent = null;
            selectedAuthor = null;
            currentTimelineItem = null;
        }

        // åˆå§‹åŒ–è¯„è®ºè¡¨å•
        function initCommentForm() {
            const textarea = document.getElementById('commentTextarea');
            
            textarea.addEventListener('input', function() {
                updateSubmitButtonState();
            });
        }

        // é€‰æ‹©ä½œè€…
        function selectAuthor(author) {
            // æ¸…é™¤ä¹‹å‰çš„é€‰æ‹©
            document.querySelectorAll('.author-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // æ ‡è®°å½“å‰é€‰æ‹©
            const selectedOption = document.querySelector(`[data-author="${author}"]`);
            selectedOption.classList.add('selected');
            
            selectedAuthor = author;
            updateSubmitButtonState();
        }

        // é‡ç½®è¯„è®ºè¡¨å•
        function resetCommentForm() {
            document.getElementById('commentTextarea').value = '';
            document.querySelectorAll('.author-option').forEach(option => {
                option.classList.remove('selected');
            });
            selectedAuthor = null;
            updateSubmitButtonState();
        }

        // æ›´æ–°æäº¤æŒ‰é’®çŠ¶æ€
        function updateSubmitButtonState() {
            const submitBtn = document.getElementById('submitCommentBtn');
            const textarea = document.getElementById('commentTextarea');
            const hasContent = textarea.value.trim().length > 0;
            const hasAuthor = selectedAuthor !== null;
            
            submitBtn.disabled = !(hasContent && hasAuthor);
        }

        // æäº¤è¯„è®º
        function submitComment() {
            if (!selectedTextId || !selectedAuthor) return;
            
            const textarea = document.getElementById('commentTextarea');
            const content = textarea.value.trim();
            
            if (!content) return;
            
            // åˆ›å»ºè¯„è®ºå¯¹è±¡
            const comment = {
                id: Date.now(),
                textId: selectedTextId,
                author: selectedAuthor,
                content: content,
                timestamp: new Date().toLocaleString('zh-CN')
            };
            
                // ä¿å­˜åˆ°localStorage
            saveComment(comment);
            
            // åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºè¯„è®º
            displayComment(comment);
            
            // å…³é—­å¼¹çª—
            closeCommentModal();
        }
                // æ˜¾ç¤ºçŠ¶æ€æç¤º
        function showStatus(message, isSuccess = true) {
            const indicator = document.getElementById('statusIndicator');
            indicator.textContent = message;
            indicator.className = `status-indicator ${isSuccess ? 'status-success' : 'status-error'} show`;
            
            setTimeout(() => {
                indicator.classList.remove('show');
            }, 3000);
        }
        // æ˜¾ç¤ºè¯„è®ºæ°”æ³¡ - ä¿®å¤ç‰ˆæœ¬
        function displayComment(comment) {
            const textElement = document.querySelector(`[data-text-id="${comment.textId}"]`);
            if (!textElement) return;
            
            // åˆ›å»ºè¯„è®ºæ°”æ³¡å…ƒç´ 
            const commentBubble = document.createElement('div');
            commentBubble.className = `side-comment ${comment.author}`;
            commentBubble.dataset.commentId = comment.id; // æ·»åŠ å”¯ä¸€æ ‡è¯†
            
            // ç¡®å®šæ°”æ³¡ä½ç½® - ä¿®å¤ç‰ˆæœ¬
            const timelineItem = textElement.closest('.timeline-item');
            const timelineItems = document.querySelectorAll('.timeline-item');
            const itemIndex = Array.from(timelineItems).indexOf(timelineItem);
            const isEvenItem = itemIndex % 2 === 0; // å¶æ•°é¡¹æ˜¯å·¦ä¾§å†…å®¹
            
            // è®¾ç½®æ°”æ³¡ä½ç½®ç±»
            commentBubble.classList.add(isEvenItem ? 'right' : 'left');
            
            // è®¾ç½®æ°”æ³¡å†…å®¹ï¼Œæ·»åŠ åˆ é™¤æŒ‰é’®
            const authorIcon = comment.author === 'cat' ? 'ğŸ±' : 'ğŸ¦Š';
            const authorName = comment.author === 'cat' ? 'å°çŒ«' : 'ç‹ç‹¸';
            
            commentBubble.innerHTML = `
                <div class="comment-header">
                    <span class="comment-author-icon">${authorIcon}</span>
                    <span class="comment-author-name">${authorName}</span>
                    <button class="delete-comment-btn" onclick="deleteComment('${comment.id}', this)">Ã—</button>
                </div>
                <div class="comment-content">${comment.content}</div>
                <div class="comment-time">${comment.timestamp}</div>
            `;
            
            // å®šä½æ°”æ³¡
            positionCommentBubble(commentBubble, textElement, timelineItem);
            
            // æ·»åŠ åˆ°é¡µé¢
            document.body.appendChild(commentBubble);
        }

        // å®šä½è¯„è®ºæ°”æ³¡ - ä¿®å¤æ°´å¹³ä½ç½®ä¸ç»Ÿä¸€é—®é¢˜
function positionCommentBubble(bubble, textElement, timelineItem) {
    const rect = textElement.getBoundingClientRect();
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    
    // è·å–æ—¶é—´çº¿é¡¹çš„flex-direction
    const computedStyle = window.getComputedStyle(timelineItem);
    const flexDirection = computedStyle.flexDirection;
    const isReversed = flexDirection === 'row-reverse';
    
    // è·å–é¡µé¢çš„å®¹å™¨ï¼ˆ.containerï¼‰å…ƒç´ 
    const container = document.querySelector('.container');
    if (!container) {
        console.error('æ‰¾ä¸åˆ°.containerå…ƒç´ ');
        return;
    }
    
    const containerRect = container.getBoundingClientRect();
    const containerScrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
    
    // è®¡ç®—å›ºå®šæ°´å¹³ä½ç½®
    if (isReversed) {
        // å†…å®¹åœ¨å³ä¾§ï¼Œè¯„è®ºæ”¾åœ¨å·¦ä¾§å›ºå®šä½ç½®
        // å°†è¯„è®ºæ”¾åœ¨.containerå·¦ä¾§è¾¹ç•Œå†…ï¼Œä½†ç¦»å·¦è¾¹ç¼˜æœ‰ä¸€å®šè·ç¦»
        const leftPosition = containerRect.left + containerScrollLeft + 50; // 50px åç§»
        bubble.style.left = leftPosition + 'px';
        bubble.classList.remove('right');
        bubble.classList.add('left');
    } else {
        // å†…å®¹åœ¨å·¦ä¾§ï¼Œè¯„è®ºæ”¾åœ¨å³ä¾§å›ºå®šä½ç½®
        // å°†è¯„è®ºæ”¾åœ¨.containerå³ä¾§è¾¹ç•Œå†…ï¼Œä½†ç¦»å³è¾¹ç¼˜æœ‰ä¸€å®šè·ç¦»
        const containerWidth = containerRect.width;
        const rightPosition = containerRect.left + containerScrollLeft + containerWidth - 350; // 350px æ˜¯æ°”æ³¡å®½åº¦(300)+è¾¹è·(50)
        bubble.style.left = rightPosition + 'px';
        bubble.classList.remove('left');
        bubble.classList.add('right');
    }
    
    // å‚ç›´å±…ä¸­å¯¹é½ï¼ˆä»ç„¶åŸºäºæ–‡æœ¬ä½ç½®ï¼‰
    bubble.style.top = (rect.top + scrollTop + rect.height / 2 - 60) + 'px';
}

        // åˆ é™¤è¯„è®ºåŠŸèƒ½
        function deleteComment(commentId, deleteBtn) {
            if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™æ¡è¯„è®ºå—ï¼Ÿ')) return;
            
            // ä»localStorageä¸­ç§»é™¤
            let comments = JSON.parse(localStorage.getItem('timelineComments') || '[]');
            comments = comments.filter(comment => comment.id.toString() !== commentId);
            localStorage.setItem('timelineComments', JSON.stringify(comments));
            
            // ä»é¡µé¢ä¸­ç§»é™¤è¯„è®ºæ°”æ³¡
            const commentBubble = deleteBtn.closest('.side-comment');
            commentBubble.style.opacity = '0';
            commentBubble.style.transform = 'scale(0.8)';
            
            setTimeout(() => {
                if (commentBubble.parentNode) {
                    commentBubble.parentNode.removeChild(commentBubble);
                }
            }, 300);
        }

                // ä» JSONBin åŠ è½½è¯„è®º
async function loadComments() {
    try {
        console.log('æ­£åœ¨ä»äº‘ç«¯åŠ è½½è¯„è®º...');
        const response = await fetch(JSONBIN_API_URL, {
            headers: {
                'X-Master-Key': JSONBIN_MASTER_KEY
            }
        });
        
        if (!response.ok) {
            throw new Error(`HTTPé”™è¯¯: ${response.status}`);
        }
        
        const data = await response.json();
        console.log('ä»äº‘ç«¯æ”¶åˆ°çš„åŸå§‹æ•°æ®:', data);
        console.log('data.recordç±»å‹:', typeof data.record);
        console.log('data.recordå†…å®¹:', data.record);
        
        // å¤„ç†æ•°æ®æ ¼å¼
        let comments = [];
        if (Array.isArray(data.record)) {
            comments = data.record;
            console.log('æ•°æ®æ˜¯æ•°ç»„æ ¼å¼');
        } else if (data.record && data.record.comments && Array.isArray(data.record.comments)) {
            comments = data.record.comments;
            console.log('æ•°æ®æ˜¯{comments: [...]}æ ¼å¼');
        } else {
            comments = data.record || [];
            console.log('æ•°æ®æ˜¯å…¶ä»–æ ¼å¼');
        }
        
        console.log('å¤„ç†åçš„è¯„è®ºæ•°ç»„:', comments);
        console.log('è¯„è®ºæ•°é‡:', comments.length);
        
        // è¿‡æ»¤æ‰ç³»ç»Ÿæ¶ˆæ¯å¹¶æ¸²æŸ“
        const filteredComments = comments.filter(comment => {
            console.log('æ£€æŸ¥è¯„è®º:', comment);
            const isNotSystem = comment.author !== 'system';
            console.log('æ˜¯å¦éç³»ç»Ÿæ¶ˆæ¯:', isNotSystem);
            return isNotSystem;
        });
        
        console.log('è¿‡æ»¤åçš„è¯„è®º:', filteredComments);
        
        filteredComments.forEach((comment, index) => {
            console.log(`å¤„ç†ç¬¬${index + 1}æ¡è¯„è®º:`, comment);
            const textElement = document.querySelector(`[data-text-id="${comment.textId}"]`);
            console.log(`æŸ¥æ‰¾textId=${comment.textId}çš„å…ƒç´ :`, textElement);
            
            if (textElement) {
                currentTimelineItem = textElement.closest('.timeline-item');
                displayComment(comment);
                console.log('æˆåŠŸæ˜¾ç¤ºè¯„è®º');
            } else {
                console.log('æœªæ‰¾åˆ°å¯¹åº”çš„æ–‡å­—å…ƒç´ ');
            }
        });
        
        // æœ¬åœ°å¤‡ä»½
        localStorage.setItem('timelineComments_backup', JSON.stringify(filteredComments));
        console.log(`æˆåŠŸåŠ è½½ ${filteredComments.length} æ¡è¯„è®º`);
        
    } catch (error) {
        console.error('ä»äº‘ç«¯åŠ è½½è¯„è®ºå¤±è´¥:', error);
        // é™çº§åˆ°æœ¬åœ°å­˜å‚¨
        const localComments = JSON.parse(localStorage.getItem('timelineComments') || '[]');
        localComments.forEach(comment => {
            const textElement = document.querySelector(`[data-text-id="${comment.textId}"]`);
            if (textElement) {
                currentTimelineItem = textElement.closest('.timeline-item');
                displayComment(comment);
            }
        });
    }
}

// ====== JSONBin ç»Ÿä¸€è¯·æ±‚è¾…åŠ©å‡½æ•°ï¼ˆç”¨äºæ—¶é—´è½´ç¼–è¾‘ï¼‰ ======
async function fetchJsonBin(options = {}) {
    const defaultHeaders = {
        'Content-Type': 'application/json',
        'X-Master-Key': JSONBIN_MASTER_KEY
    };

    try {
        const method = (options && options.method) || 'GET';
        if (window.debugLog) window.debugLog(`â†’ ${method} ${JSONBIN_API_URL}`);

        const resp = await fetch(JSONBIN_API_URL, {
            ...options,
            headers: {
                ...defaultHeaders,
                ...options.headers
            }
        });

        if (!resp.ok) {
            try { const text = await resp.clone().text(); if (window.debugLog) window.debugLog(`âœ– ${resp.status} ${text}`); } catch(e){}
        } else {
            if (window.debugLog) window.debugLog(`âœ“ ${resp.status} ${method}`);
        }

        return resp;
    } catch (err) {
        console.error('fetchJsonBin ç½‘ç»œæˆ– CORS é”™è¯¯:', err);
        if (window.debugLog) window.debugLog(`âš  ${err.message || err}`);
        throw err;
    }
}

// ä¿å­˜å®Œæ•´è®°å½•åˆ° JSONBin çš„é€šç”¨å‡½æ•°ï¼ˆç”¨äºæ›´æ–° comments æˆ– timelineï¼‰
async function saveFullRecord(record) {
    const putResponse = await fetchJsonBin({ method: 'PUT', body: JSON.stringify(record) });
    if (!putResponse.ok) throw new Error(`ä¿å­˜å¤±è´¥: ${putResponse.status}`);
    return putResponse;
}

// è°ƒè¯•é¢æ¿ï¼ˆå¦‚æœéœ€è¦å¯è§ï¼‰
(function createDebugPanel(){
    const btn = document.createElement('button');
    btn.id = 'debugToggleBtn';
    btn.textContent = 'è°ƒè¯•æ—¥å¿—';
    Object.assign(btn.style, { position: 'fixed', right: '20px', bottom: '20px', zIndex: 2000, padding: '8px 12px', borderRadius: '8px', background: 'rgba(0,0,0,0.7)', color: 'white', border: 'none', cursor: 'pointer' });
    document.body.appendChild(btn);

    const panel = document.createElement('div');
    panel.id = 'debugLogPanel';
    Object.assign(panel.style, { position: 'fixed', right: '20px', bottom: '64px', width: '420px', maxHeight: '50vh', overflow: 'auto', zIndex: 2000, background: 'rgba(0,0,0,0.85)', color: '#fff', padding: '10px', borderRadius: '8px', fontSize: '12px', display: 'none', whiteSpace: 'pre-wrap' });
    document.body.appendChild(panel);

    btn.addEventListener('click', () => { panel.style.display = panel.style.display === 'none' ? 'block' : 'none'; });

    window.debugLog = function(msg) {
        try {
            const time = new Date().toLocaleTimeString();
            const line = document.createElement('div');
            line.textContent = `[${time}] ${msg}`;
            panel.appendChild(line);
            panel.scrollTop = panel.scrollHeight;
            console.log('[DEBUG]', msg);
        } catch (e) { console.log('debugLog error', e); }
    };
})();

// ====== æ—¶é—´è½´ç¼–è¾‘å™¨ JS å®ç° ======
let isEditing = false;
let editingItemId = null;

function createEntryRow(item, isFirst) {
    const row = document.createElement('div');
    row.className = 'entry-row';
    row.style.border = '1px solid #eee';
    row.style.padding = '12px';
    row.style.borderRadius = '8px';
    row.style.marginBottom = '12px';

    const dateVal = item?.date || '';
    const titleVal = item?.title || '';
    const contentVal = (item?.content && !item.blocks) ? item.content.replace(/<[^>]*>/g, '') : (item?.blocks?.[0]?.content || item?.content || '');
    const typesVal = Array.isArray(item?.types) ? item.types : (item?.type ? [item.type] : (item?.blocks?.[0]?.types || ['normal']));

    let html = '';
    if (isFirst) {
        html += `\n        <div class="form-group">\n            <label>æ—¥æœŸï¼š</label>\n            <input type="text" class="entry-date" placeholder="ä¾‹å¦‚ï¼š2026å¹´3æœˆ" value="${escapeHtml(dateVal)}">\n        </div>\n        <div class="form-group">\n            <label>æ ‡é¢˜ï¼š</label>\n            <input type="text" class="entry-title" placeholder="äº‹ä»¶æ ‡é¢˜" value="${escapeHtml(titleVal)}">\n        </div>\n        `;
    }

    html += `\n        <div class="form-group">\n            <label>å†…å®¹ï¼š</label>\n            <textarea class="entry-content" placeholder="è¯¦ç»†æè¿°..." rows="3">${escapeHtml(contentVal)}</textarea>\n        </div>\n        <div class="form-group">\n            <label>ç±»å‹ï¼š</label>\n            <select class="entry-type-select">\n                <option value="memory">è®°å¿†ç‰‡æ®µ</option>\n                <option value="chat">å¯¹è¯è®°å½•</option>\n                <option value="highlight">é‡ç‚¹å†…å®¹</option>\n                <option value="normal">æ™®é€šå™è¿°</option>\n            </select>\n        </div>\n        <div style="display:flex;gap:8px;justify-content:flex-end;">\n            <button type="button" class="btn-secondary" onclick="removeEntryRow(this)">ç§»é™¤</button>\n        </div>\n    `;

    row.innerHTML = html;

    const typeSelect = row.querySelector('.entry-type-select');
    if (typeSelect) {
        const allowedTypes = ['memory','chat','highlight','normal'];
        const candidate = (Array.isArray(typesVal) && typesVal.length>0) ? typesVal[0] : (typesVal || 'normal');
        const pick = allowedTypes.includes(candidate) ? candidate : 'normal';
        typeSelect.value = pick;
    }

    const sideName = 'entry-side-' + Math.floor(Math.random() * 1000000);
    const sideWrap = document.createElement('div');
    sideWrap.style.display = 'flex';
    sideWrap.style.gap = '8px';
    sideWrap.style.alignItems = 'center';
    sideWrap.style.marginTop = '8px';
    sideWrap.innerHTML = `\n        <label style="font-weight:600; margin-right:6px;">å¯¹è¯æ–¹å‘ï¼š</label>\n        <label><input type="radio" name="${sideName}" value="left" class="entry-side" checked> å·¦ä¾§</label>\n        <label><input type="radio" name="${sideName}" value="right" class="entry-side"> å³ä¾§</label>\n    `;
    row.appendChild(sideWrap);

    const updateSideState = () => {
        let hasChat = false;
        if (typeSelect) hasChat = (typeSelect.value === 'chat');
        const radios = row.querySelectorAll('.entry-side');
        radios.forEach(r => r.disabled = !hasChat);
        if (!hasChat) {
            const left = row.querySelector(`input[name="${sideName}"][value="left"]`);
            if (left) left.checked = true;
        }
    };

    if (typeSelect) typeSelect.addEventListener('change', updateSideState);
    setTimeout(updateSideState, 0);

    return row;
}

function addEntryRow(item, isFirstParam) {
    const container = document.getElementById('entriesContainer');
    if (!container) return;
    const isFirst = (typeof isFirstParam === 'boolean') ? isFirstParam : (container.children.length === 0);
    const row = createEntryRow(item, isFirst);
    container.appendChild(row);
}

function removeEntryRow(btn) { const row = btn.closest('.entry-row'); if (row) row.remove(); }

function escapeHtml(str) { if (!str) return ''; return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;'); }

function toggleEditor() {
    const panel = document.querySelector('.editor-panel');
    const toggleBtn = document.querySelector('.editor-toggle');
    if (panel.classList.contains('active')) {
        panel.classList.remove('active');
        toggleBtn.innerHTML = '<i class="fas fa-plus-circle"></i><span>æ·»åŠ æ–°èŠ‚ç‚¹</span>';
    } else {
        panel.classList.add('active');
        toggleBtn.innerHTML = '<i class="fas fa-times"></i><span>å…³é—­ç¼–è¾‘å™¨</span>';
        resetEditForm();
    }
}

function resetEditForm() {
    const container = document.getElementById('entriesContainer');
    if (container) { container.innerHTML = ''; addEntryRow(); }
    isEditing = false; editingItemId = null;
    const saveBtn = document.querySelector('.btn-primary'); if (saveBtn) saveBtn.textContent = 'ä¿å­˜';
    const deleteBtn = document.querySelector('.btn-delete'); if (deleteBtn) deleteBtn.style.display = 'none';
}

function cancelEdit() { toggleEditor(); }

function editTimelineItem(itemId) {
    const item = document.querySelector(`[data-item-id="${itemId}"]`);
    if (!item) return;
    const date = item.querySelector('.timeline-date').textContent.trim().replace('\n','').replace(/\s+/g,' ');
    const title = item.querySelector('.timeline-title').textContent;
    const content = item.querySelector('.timeline-text').innerHTML;
    let blocks = [];
    try { if (item.dataset.blocks) blocks = JSON.parse(item.dataset.blocks); } catch(e) { blocks = []; }
    if (blocks.length === 0) {
        const inferred = []; const chat = item.querySelectorAll('.chat-bubble'); chat.forEach(cb => inferred.push({ content: cb.textContent.trim(), types: ['chat'] }));
        const memories = item.querySelectorAll('.memory-item'); memories.forEach(m => inferred.push({ content: m.textContent.trim(), types: ['memory'] }));
        const highlights = item.querySelectorAll('.highlight-box'); highlights.forEach(h => inferred.push({ content: h.textContent.trim(), types: ['highlight'] }));
        if (inferred.length > 0) blocks = inferred;
    }
    const container = document.getElementById('entriesContainer');
    if (container) {
        container.innerHTML = '';
        addEntryRow({ date: date.replace('\u{f073}','').trim(), title: title, content: blocks[0]?.content || content, types: blocks[0]?.types || undefined }, true);
        for (let i=1;i<blocks.length;i++) addEntryRow({ content: blocks[i].content, types: blocks[i].types }, false);
    }
    isEditing = true; editingItemId = itemId;
    const saveBtn = document.querySelector('.btn-primary'); if (saveBtn) saveBtn.textContent = 'æ›´æ–°';
    const deleteBtn = document.querySelector('.btn-delete'); if (deleteBtn) deleteBtn.style.display = 'inline-block';
    const panel = document.querySelector('.editor-panel'); if (!panel.classList.contains('active')) toggleEditor();
}

async function deleteTimelineItem() {
    if (!editingItemId || !confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæ—¶é—´è½´èŠ‚ç‚¹å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚')) return;
    try {
        const item = document.querySelector(`[data-item-id="${editingItemId}"]`);
        if (item) { item.style.opacity='0'; item.style.transform='translateY(-20px)'; setTimeout(()=>item.remove(),300); }
        const response = await fetchJsonBin();
        let existingData = { timeline: [] };
        if (response.ok) { const data = await response.json(); existingData = data.record || { timeline: [] }; }
        existingData.timeline = existingData.timeline.filter(it => `item-${it.id}` !== editingItemId);
        await saveFullRecord(existingData);
        showStatus('æ—¶é—´è½´èŠ‚ç‚¹å·²åˆ é™¤ï¼', true);
        cancelEdit();
    } catch (error) { console.error('åˆ é™¤å¤±è´¥:', error); showStatus('åˆ é™¤å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥', false); }
}

async function saveNewTimelineItem() {
    const rows = Array.from(document.querySelectorAll('.entry-row'));
    if (rows.length === 0) { alert('è¯·è‡³å°‘æ·»åŠ ä¸€ä¸ªæ¡ç›®'); return; }
    const entries = rows.map(r => {
        const date = (r.querySelector('.entry-date')?.value || '').trim();
        const title = (r.querySelector('.entry-title')?.value || '').trim();
        const content = (r.querySelector('.entry-content')?.value || '').trim();
        const type = (r.querySelector('.entry-type-select')?.value) || 'normal';
        const types = [type];
        const sideInput = r.querySelector('.entry-side:checked');
        const side = sideInput ? sideInput.value : 'left';
        return { date, title, content, types, type, side };
    });
    for (let i=0;i<entries.length;i++) {
        const e = entries[i];
        if (i===0) { if (!e.title || !e.content) { alert('é¦–æ¡å¿…é¡»åŒ…å«æ ‡é¢˜å’Œå†…å®¹'); return; } }
        else { if (!e.content) { alert('åç»­æ¡ç›®å¿…é¡»å¡«å†™å†…å®¹æˆ–ç§»é™¤ç©ºæ¡ç›®'); return; } }
    }
    try {
        const response = await fetchJsonBin();
        let existingData = { timeline: [] };
        if (response.ok) { const data = await response.json(); existingData = data.record || { timeline: [] }; }
        if (!existingData.timeline) existingData.timeline = [];
        if (isEditing && editingItemId) {
            const itemIndex = existingData.timeline.findIndex(item => `item-${item.id}` === editingItemId);
            if (itemIndex !== -1) {
                const first = entries[0];
                const blocks = entries.map(e => ({ content: e.content, types: e.types, side: e.side || 'left' }));
                existingData.timeline[itemIndex] = { ...existingData.timeline[itemIndex], date: first.date, title: first.title, blocks: blocks, types: blocks[0].types, type: blocks[0].types[0], timestamp: new Date().toISOString() };
                updateTimelineItem(existingData.timeline[itemIndex]);
                showStatus('æ—¶é—´è½´èŠ‚ç‚¹å·²æ›´æ–°ï¼', true);
            }
        } else {
            const first = entries[0];
            const blocks = entries.map(e => ({ content: e.content, types: e.types, side: e.side || 'left' }));
            const newItem = { id: Date.now(), date: first.date, title: first.title, blocks: blocks, types: blocks[0].types, type: blocks[0].types[0], timestamp: new Date().toISOString() };
            existingData.timeline.push(newItem);
            renderNewTimelineItem(newItem);
            showStatus('æ–°èŠ‚ç‚¹å·²æ·»åŠ å¹¶ä¿å­˜åˆ°äº‘ç«¯ï¼', true);
        }
        await saveFullRecord(existingData);
        cancelEdit();
    } catch (error) { console.error('ä¿å­˜å¤±è´¥:', error); showStatus('ä¿å­˜å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥', false); }
}

function renderNewTimelineItem(item) {
    const timeline = document.querySelector('.timeline');
    const newItemElement = createTimelineItemElement(item);
    const editBtn = document.createElement('button'); editBtn.className='edit-item-btn'; editBtn.innerHTML='<i class="fas fa-edit"></i>'; editBtn.onclick = () => editTimelineItem(`item-${item.id}`);
    const timelineContent = newItemElement.querySelector('.timeline-content'); timelineContent.style.position='relative'; timelineContent.appendChild(editBtn);
    timeline.appendChild(newItemElement);
    setTimeout(()=>{ newItemElement.style.opacity='1'; newItemElement.style.transform='translateY(0)'; },100);
}

function updateTimelineItem(item) {
    const existingItem = document.querySelector(`[data-item-id="item-${item.id}"]`);
    if (existingItem) {
        const newItemElement = createTimelineItemElement(item);
        existingItem.parentNode.replaceChild(newItemElement, existingItem);
        const editBtn = document.createElement('button'); editBtn.className='edit-item-btn'; editBtn.innerHTML='<i class="fas fa-edit"></i>'; editBtn.onclick = () => editTimelineItem(`item-${item.id}`);
        const timelineContent = newItemElement.querySelector('.timeline-content'); timelineContent.style.position='relative'; timelineContent.appendChild(editBtn);
    }
}

function createTimelineItemElement(item) {
    const newItemElement = document.createElement('div'); newItemElement.className='timeline-item'; newItemElement.style.animationDelay='0.1s'; newItemElement.dataset.itemId = `item-${item.id}`;
    const blocks = Array.isArray(item.blocks) ? item.blocks : ((item.content || item.types) ? [{ content: item.content || '', types: item.types || (item.type ? [item.type] : ['normal']) }] : [{ content: '', types: ['normal'] }]);
    const allowedTypes = ['memory','chat','highlight'];
    const blocksHtml = blocks.map(b => { const rawTypes = Array.isArray(b.types) ? b.types : (b.type ? [b.type] : []); const types = rawTypes.filter(t => allowedTypes.includes(t)); const sideClass = (b.side === 'right') ? 'chat-right' : 'chat-left'; if (types.includes('chat')) { return `<div class="chat-bubble ${sideClass}">${b.content}</div>`; } else if (types.includes('memory')) { return `<div class="memory-item"><div class="memory-icon"><i class="fas fa-star"></i></div><div><strong>${item.title}</strong><br>${b.content}</div></div>`; } else if (types.includes('highlight')) { return `<div class="highlight-box">${b.content}</div>`; } else { return `<p>${b.content}</p>`; } }).join('\n');
    newItemElement.innerHTML = `\n        <div class="timeline-dot"></div>\n        <div class="timeline-content">\n            <div class="timeline-date">\n                <i class="fas fa-calendar-alt"></i>\n                ${item.date}\n            </div>\n            <h3 class="timeline-title">${item.title}</h3>\n            \n            <div class="timeline-text">\n                ${blocksHtml}\n            </div>\n        </div>\n    `;
    try { newItemElement.dataset.types = JSON.stringify(blocks[0]?.types || item.types || item.type || []); } catch(e) {}
    try { if (item.blocks) newItemElement.dataset.blocks = JSON.stringify(item.blocks); } catch(e) {}
    return newItemElement;
}

function addEditButtonsToExistingItems() {
    const timelineItems = document.querySelectorAll('.timeline-item');
    timelineItems.forEach(item => {
        const itemId = item.dataset.itemId;
        if (itemId && !item.querySelector('.edit-item-btn')) {
            const editBtn = document.createElement('button'); editBtn.className='edit-item-btn'; editBtn.innerHTML='<i class="fas fa-edit"></i>'; editBtn.onclick = () => editTimelineItem(itemId);
            const timelineContent = item.querySelector('.timeline-content'); timelineContent.style.position='relative'; timelineContent.appendChild(editBtn);
        }
    });
}

async function loadCustomTimelineItems() {
    try {
        const response = await fetchJsonBin();
        if (response.ok) {
            const data = await response.json();
            let customItems = data.record?.timeline || [];
            customItems = customItems.map(it => { if (it && !Array.isArray(it.types) && it.type) return { ...it, types: [it.type] }; return it; });
            customItems.forEach(item => renderNewTimelineItem(item));
        }
    } catch (error) { console.log('åŠ è½½è‡ªå®šä¹‰æ—¶é—´è½´èŠ‚ç‚¹å¤±è´¥:', error); }
}

// æ›´æ–° saveCommentï¼šå…ˆ GET å®Œæ•´è®°å½•ï¼Œåˆå¹¶ comments å PUTï¼Œé¿å…è¦†ç›– timeline
async function saveComment(comment) {
    try {
        let comments = JSON.parse(localStorage.getItem('timelineComments') || '[]');
        comments.push(comment);
        localStorage.setItem('timelineComments', JSON.stringify(comments));

        const getResponse = await fetchJsonBin();
        let existingData = { comments: [], timeline: [] };
        if (getResponse.ok) { const data = await getResponse.json(); existingData = data.record || existingData; }
        existingData.comments = comments;
        const putResp = await saveFullRecord(existingData);
        if (!putResp.ok) throw new Error(`ä¿å­˜å¤±è´¥: ${putResp.status}`);
        console.log('è¯„è®ºä¿å­˜æˆåŠŸ'); showStatus('è¯„è®ºå·²ä¿å­˜åˆ°äº‘ç«¯ï¼', true);
    } catch (error) {
        console.error('ä¿å­˜åˆ°äº‘ç«¯å¤±è´¥:', error);
        showStatus('ä¿å­˜å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œåé‡è¯•', false);
        let comments = JSON.parse(localStorage.getItem('timelineComments') || '[]'); comments = comments.filter(c => c.id !== comment.id); localStorage.setItem('timelineComments', JSON.stringify(comments));
    }
}
    </script>
</body>
</html>